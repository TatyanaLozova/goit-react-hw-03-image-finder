{"version":3,"sources":["App.module.css","Component/Searchbar.js","servise/Api.js","Component/ImageGalleryItem.js","Component/Button.js","Component/Modal.js","Component/Loader.js","Component/ImageGallery.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchBar","state","query","handleChenge","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","Searchbar","this","type","SearchForm_Button","SearchForm_input","placeholder","onChange","Component","axios","defaults","baseURL","pixImages","curentPage","url","get","then","data","hits","ImageGalleryItem","imgGallery","largeImgUrl","onClick","id","webformatURL","ImageGalleryItem_image","src","alt","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","createPortal","children","App","color","height","width","timeout","React","ImageGallery","images","currentPage","isLoading","error","showModal","fetchGallery","setTimeout","pixabayApi","response","length","alert","prevState","catch","finally","toggleModal","handleClickImage","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderButton","map","img","largeImageURL","onChangeQuery","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.69b5bbc2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__22uoa\",\"Searchbar\":\"App_Searchbar__fykE2\",\"SearchForm\":\"App_SearchForm__2-_8V\",\"SearchForm_button\":\"App_SearchForm_button__2YWD0\",\"SearchForm-button\":\"App_SearchForm-button__3m1CR\",\"SearchForm-button-label\":\"App_SearchForm-button-label__1BtcG\",\"SearchForm-input\":\"App_SearchForm-input__2yD4D\",\"ImageGallery\":\"App_ImageGallery__3tNOc\",\"ImageGalleryItem\":\"App_ImageGalleryItem__1hAKP\",\"ImageGalleryItem_image\":\"App_ImageGalleryItem_image__1OkVm\",\"Overlay\":\"App_Overlay__dYNPh\",\"Modal\":\"App_Modal__2LLL3\",\"Button\":\"App_Button__2V7nN\"};","import React, { Component } from 'react'\r\nimport s from \"../App.module.css\";\r\n\r\nclass SearchBar extends Component {\r\n    state = { query: '' };\r\n\r\n    handleChenge = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    };\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n    render() {\r\n        return (\r\n            <form className={s.Searchbar} onSubmit={this.handleSubmit}>\r\n                  <button type=\"submit\" className={s.SearchForm_Button}>\r\n                      </button>\r\n                    <input className={s.SearchForm_input} \r\n                    type=\"text\"\r\n                     placeholder=\"Search images...\"\r\n                    value={this.state.query}\r\n                    onChange={this.handleChenge}\r\n                />\r\n\r\n            </form>\r\n        );\r\n    };\r\n    \r\n}\r\nexport default SearchBar;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api/`;\r\nlet myApiKey = `19822472-14ec0e3f9ba277805ee5b06f8`;\r\nconst perPage = 12;\r\n\r\nconst pixImages = ({ query = \"\", curentPage = 1 }) => {\r\n    const url = `https://pixabay.com/api/?q=${query}&page=${curentPage}&key=${myApiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n    return axios.get(url).then(({ data }) => {\r\n        return data.hits;\r\n    });\r\n};\r\n\r\n\r\nexport default pixImages;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"../App.module.css\";\r\n\r\nconst ImageGalleryItem= ({ imgGallery, largeImgUrl, onClick }) => {\r\n  const { id, webformatURL } = imgGallery;\r\n  return (\r\n    <li className={s.ImageGalleryItem}\r\n      \r\n      onClick={() => onClick(largeImgUrl)}\r\n    >\r\n      <img className={s.ImageGalleryItem_image} src={webformatURL} alt={id} />\r\n    </li>\r\n  );\r\n};\r\n\r\n ImageGalleryItem.propTypes = {\r\n  imgGallery: PropTypes.object.isRequired,\r\n  largeImgUrl: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <button type=\"button\" onClick={onClick}>Загрузить ещё...</button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n    componentWillUnmount() {\r\n       window.addEventListener('keydown', this.handleKeyDown); \r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n    handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n    render() {\r\n        return createPortal(          \r\n<div onClick={this.handleBackdropClick}>\r\n  <div>\r\n    <img src={this.props.children} alt=\"\" />\r\n  </div>\r\n</div>,\r\n\r\n            modalRoot,\r\n        );\r\n}\r\n}\r\n\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n      children: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport pixabayApi from \"../servise/Api\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport Button from \"./Button\";\r\nimport Modal from \"./Modal\";\r\nimport Loader from \"./Loader\";\r\nimport s from \"../App.module.css\";\r\n\r\n\r\n\r\nclass ImageGallery extends Component {\r\n \r\n    state = {\r\n        images: [],\r\n        currentPage: 1,\r\n        isLoading: false,\r\n        error: null,\r\n        showModal: false,\r\n        largeImgUrl: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.query !== this.props.query) {\r\n      this.setState({ currentPage: 1, images: [], error: null }, () =>\r\n        this.fetchGallery()\r\n      );\r\n    }\r\n\r\n    if (prevState.currentPage !== this.state.currentPage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchGallery = () => {\r\n    const { query } = this.props;\r\n    const { currentPage } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    setTimeout(() => {\r\n      pixabayApi({ query, currentPage })\r\n        .then((response) => {\r\n          if (response.length === 0) {\r\n            alert(`Sorry! ${query} is not found`);\r\n          }\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...response],\r\n            currentPage: prevState.currentPage + 1,\r\n          }));\r\n        })\r\n        .catch((error) => this.setState({ error }))\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    }, 250);\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n    this.setState({ largeImgUrl: null });\r\n  };\r\n\r\n  handleClickImage = (url) => {\r\n    this.toggleModal();\r\n    this.setState({ largeImgUrl: url });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, showModal, largeImgUrl } = this.state;\r\n    const shouldRenderButton = images.length > 11 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {images.map((img) => (\r\n            <ImageGalleryItem\r\n              key={img.id}\r\n                  imgGallery={img}\r\n                  largeImgUrl={img.largeImageURL}\r\n              onClick={this.handleClickImage}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImgUrl} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n\r\n        {isLoading && <Loader />}\r\n\r\n        {shouldRenderButton && <Button onClick={this.fetchGallery} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default ImageGallery;","import React, { Component } from \"react\";\n\nimport Searchbar from \"./Component/Searchbar\";\nimport ImageGallery from \"./Component/ImageGallery\";\n\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery query={this.state.query} />\n      </div>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}