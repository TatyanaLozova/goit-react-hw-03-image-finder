{"version":3,"sources":["App.module.css","Component/Searchbar.js","servise/Api.js","Component/ImageGalleryItem.js","Component/Button.js","Component/Modal.js","Component/Loader.js","Component/ImageGallery.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchBar","state","query","handleChenge","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","Searchbar","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","placeholder","onChange","Component","axios","defaults","baseURL","pixImages","currentPage","url","get","then","data","hits","ImageGalleryItem","imgGallery","largeImgUrl","onClick","id","webformatURL","ImageGalleryItem_image","src","alt","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","createPortal","Overlay","children","App","color","height","width","timeout","React","ImageGallery","images","isLoading","error","showModal","fetchGallery","setTimeout","pixabayApi","response","length","alert","prevState","catch","finally","toggleModal","handleClickImage","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderButton","map","img","largeImageURL","onChangeQuery","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4151a1fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__22uoa\",\"Searchbar\":\"App_Searchbar__fykE2\",\"SearchForm\":\"App_SearchForm__2-_8V\",\"SearchForm_button\":\"App_SearchForm_button__2YWD0\",\"SearchForm_button_label\":\"App_SearchForm_button_label__2Yo6R\",\"SearchForm_input\":\"App_SearchForm_input__QSAVw\",\"ImageGallery\":\"App_ImageGallery__3tNOc\",\"ImageGalleryItem\":\"App_ImageGalleryItem__1hAKP\",\"ImageGalleryItem_image\":\"App_ImageGalleryItem_image__1OkVm\",\"Overlay\":\"App_Overlay__dYNPh\",\"Modal\":\"App_Modal__2LLL3\",\"Button\":\"App_Button__2V7nN\"};","import React, { Component } from 'react'\r\nimport s from \"../App.module.css\";\r\n\r\nclass SearchBar extends Component {\r\n    state = { query: '' };\r\n\r\n    handleChenge = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    };\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar }>\r\n            <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={s.SearchForm_button}>\r\n                          <span className={s.SearchForm_button_label}>Search</span>\r\n                      </button>\r\n                    <input className={s.SearchForm_input} \r\n                    type=\"text\"\r\n                     placeholder=\"Search images...\"\r\n                    value={this.state.query}\r\n                    onChange={this.handleChenge}\r\n                />\r\n\r\n                </form>\r\n                 </header>\r\n        );\r\n    };\r\n    \r\n}\r\nexport default SearchBar;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api/`;\r\nlet myApiKey = `19822472-14ec0e3f9ba277805ee5b06f8`;\r\nconst perPage = 12;\r\n\r\nconst pixImages = ({ query = \"\", currentPage = 1 }) => {\r\n    const url = `https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${myApiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n    return axios.get(url).then(({ data }) => {\r\n        return data.hits;\r\n    });\r\n};\r\n\r\n\r\nexport default pixImages;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"../App.module.css\";\r\n\r\nconst ImageGalleryItem= ({ imgGallery, largeImgUrl, onClick }) => {\r\n  const { id, webformatURL } = imgGallery;\r\n  return (\r\n    <li className={s.ImageGalleryItem}\r\n      \r\n      onClick={() => onClick(largeImgUrl)}\r\n    >\r\n      <img className={s.ImageGalleryItem_image} src={webformatURL} alt={id} />\r\n    </li>\r\n  );\r\n};\r\n\r\n ImageGalleryItem.propTypes = {\r\n  imgGallery: PropTypes.object.isRequired,\r\n  largeImgUrl: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport s from \"../App.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n    return (\r\n        <button type=\"button\" onClick={onLoadMore} className={s.Button}>Load more...</button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"../App.module.css\";\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n    componentWillUnmount() {\r\n       window.addEventListener('keydown', this.handleKeyDown); \r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n    handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n    render() {\r\n        return createPortal(          \r\n<div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n  <div className={s.Modal}>{this.props.children}</div>\r\n</div>,\r\n\r\n            modalRoot,\r\n        );\r\n}\r\n}\r\n\r\nModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n      children: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#fff\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport pixabayApi from \"../servise/Api\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport Button from \"./Button\";\r\nimport Modal from \"./Modal\";\r\nimport Loader from \"./Loader\";\r\nimport s from \"../App.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nclass ImageGallery extends Component {\r\n \r\n    state = {\r\n        images: [],\r\n        currentPage: 1,\r\n        isLoading: false,\r\n        error: null,\r\n        showModal: false,\r\n        largeImgUrl: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.query !== this.props.query) {\r\n      this.setState({ currentPage: 1, images: [], error: null }, () =>\r\n        this.fetchGallery()\r\n      );\r\n    }\r\n\r\n    if (prevState.currentPage !== this.state.currentPage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchGallery = () => {\r\n    const { query } = this.props;\r\n    const { currentPage } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    setTimeout(() => {\r\n      pixabayApi({ query, currentPage })\r\n        .then((response) => {\r\n          if (response.length === 0) {\r\n            alert(`Sorry! ${query} is not found`);\r\n          }\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...response],\r\n            currentPage: prevState.currentPage + 1,\r\n          }));\r\n        })\r\n        .catch((error) => this.setState({ error }))\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    }, 300);\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n    this.setState({ largeImgUrl: null });\r\n  };\r\n\r\n  handleClickImage = (url) => {\r\n    this.toggleModal();\r\n    this.setState({ largeImgUrl: url });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, showModal, largeImgUrl } = this.state;\r\n    const shouldRenderButton = images.length > 11 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {images.map((img) => (\r\n            <ImageGalleryItem\r\n              key={img.id}\r\n                  imgGallery={img}\r\n                  largeImgUrl={img.largeImageURL}\r\n              onClick={this.handleClickImage}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {showModal && (\r\n                   <Modal onClose={this.toggleModal}> \r\n            <img src={largeImgUrl} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n\r\n        {isLoading && <Loader />}\r\n\r\n        {shouldRenderButton && <Button onLoadMore={this.fetchGallery} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\nImageGallery.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import React, { Component } from \"react\";\r\n\r\nimport Searchbar from \"./Component/Searchbar\";\r\nimport ImageGallery from \"./Component/ImageGallery\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onChangeQuery = (query) => {\r\n    this.setState({ query });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        <ImageGallery query={this.state.query} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}